(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.jcurl={}))})(this,function(a){'use strict';function b(a){return decodeURIComponent("".concat(a).replace(/\+/g,"%20"))}function c(a){var c={};return a&&a.split("&").forEach(function(a){var d=a.split("=",2),e=d[0],f=d[1]||"";"[]"===e.substr(-2)?(e=e.substr(0,e.length-2),(void 0===c[e]||!Array.isArray(c[e]))&&(c[e]=[]),c[e].push(b(f))):c[e]=b(f)}),c}function d(a,b){var c={};return c[a[a.length-1]]=b,1===a.length?c:d(a.slice(0,a.length-1),c)}function e(a,b){var c=function(a){return a&&a instanceof Object};return c(a)&&c(b)?(Object.keys(b).forEach(function(d){var f=a[d],g=b[d];a[d]=Array.isArray(f)&&Array.isArray(g)?f.concat(g):c(f)&&c(g)?e(Object.assign({},f),g):g}),a):b}function f(a){var c={};return a.split("&").forEach(function(a,f){var g=a.split("=",2),h=g[0],i=g[1]||"",j=h.match(/(.+?)(\[(.*)\])/i);if(j){var k=j[3]||f+"",l=k.split("][");l.unshift(j[1]);var m=d(l,b(i));c=e(c,m)}}),c}function g(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function h(a,b,c){Object.keys(a).forEach(function(d){var e=b.concat([d]),f=a[d];f instanceof Object?h(f,e,c):(e.push(f),c.push(e))})}function i(a){var b=[];h(a,[],b);var c=b.map(function(a){return a.reduce(function(b,c,d){return b?d<a.length-1?"".concat(b,"[").concat(c,"]"):"".concat(b,"=").concat(c):b+c},"")});return c.join("&")}function j(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function k(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return c(2===b.length?b[1]:"")}function l(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return f(2===b.length?b[1]:"")}function m(a,b){if(b instanceof Object){var c=a.split("?",2)[0],d=k(a),e=j(d,b);a="".concat(c,"?").concat(g(e))}return a}function n(a,b){if(b instanceof Object){var c=a.split("?",2)[0],d=k(a),f=e(d,b);a="".concat(c,"?").concat(i(f))}return a}a.add=m,a.addExt=n,a.addParams=m,a.addParamsExtended=n,a.get=k,a.getExt=l,a.getParams=k,a.getParamsExtended=l,Object.defineProperty(a,"__esModule",{value:!0})});