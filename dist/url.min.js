(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.jcurl={}))})(this,function(a){'use strict';function b(a){var b={};return a&&a.split("&").forEach(function(a){var c=a.split("=",2),d=c[0],e=c[1]||"";"[]"===d.substr(-2)?(d=d.substr(0,d.length-2),(void 0===b[d]||!Array.isArray(b[d]))&&(b[d]=[]),b[d].push(decodeURIComponent(e))):b[d]=decodeURIComponent(e)}),b}function c(a,b){var d={};return d[a[a.length-1]]=b,1===a.length?d:c(a.slice(0,a.length-1),d)}function d(a,b){var c=function(a){return a&&a instanceof Object};return c(a)&&c(b)?(Object.keys(b).forEach(function(e){var f=a[e],g=b[e];a[e]=Array.isArray(f)&&Array.isArray(g)?f.concat(g):c(f)&&c(g)?d(Object.assign({},f),g):g}),a):b}function e(a){var b={};return a.split("&").forEach(function(a,e){var f=a.split("=",2),g=f[0],h=f[1]||"",i=g.match(/(.+?)(\[(.*)\])/i);if(i){var j=i[3]||e+"",k=j.split("][");k.unshift(i[1]);var l=c(k,h);b=d(b,l)}}),b}function f(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function g(a,b,c){Object.keys(a).forEach(function(d){var e=b.concat([d]),f=a[d];f instanceof Object?g(f,e,c):(e.push(f),c.push(e))})}function h(a){var b=[];g(a,[],b);var c=b.map(function(a){return a.reduce(function(b,c,d){return b?d<a.length-1?"".concat(b,"[").concat(c,"]"):"".concat(b,"=").concat(c):b+c},"")});return c.join("&")}function i(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function j(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,c=a.split("?",2);return b(2===c.length?c[1]:"")}function k(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return e(2===b.length?b[1]:"")}function l(a,b){if(b instanceof Object){var c=a.split("?",2)[0],d=j(a),e=i(d,b);a="".concat(c,"?").concat(f(e))}return a}function m(a,b){if(b instanceof Object){var c=a.split("?",2)[0],e=j(a),f=d(e,b);a="".concat(c,"?").concat(h(f))}return a}a.add=l,a.addExt=m,a.addParams=l,a.addParamsExtended=m,a.get=j,a.getExt=k,a.getParams=j,a.getParamsExtended=k,Object.defineProperty(a,"__esModule",{value:!0})});