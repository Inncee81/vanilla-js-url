(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.jcurl=b())})(this,function(){'use strict';function a(a){var b={};return a&&a.split("&").forEach(function(a){var c=a.split("=",2),d=c[0],e=c[1]||"";"[]"===d.substr(-2)?(d=d.substr(0,d.length-2),(void 0===b[d]||!Array.isArray(b[d]))&&(b[d]=[]),b[d].push(decodeURIComponent(e))):b[d]=decodeURIComponent(e)}),b}function b(a,c){var d={};return d[a[a.length-1]]=c,1===a.length?d:b(a.slice(0,a.length-1),d)}function c(a,b){var d=function(a){return a&&a instanceof Object};return d(a)&&d(b)?(Object.keys(b).forEach(function(e){var f=a[e],g=b[e];a[e]=Array.isArray(f)&&Array.isArray(g)?f.concat(g):d(f)&&d(g)?c(Object.assign({},f),g):g}),a):b}function d(a){var d={};return a.split("&").forEach(function(a,e){var f=a.split("=",2),g=f[0],h=f[1]||"",i=g.match(/(.+?)(\[(.*)\])/i);if(i){var j=i[3]||e+"",k=j.split("][");k.unshift(i[1]);var l=b(k,h);d=c(d,l)}}),d}function e(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function f(a,b,c){Object.keys(a).forEach(function(d){var e=b.concat([d]),g=a[d];g instanceof Object?f(g,e,c):(e.push(g),c.push(e))})}function g(a){var b=[];f(a,[],b);var c=b.map(function(a){return a.reduce(function(b,c,d){return b?d<a.length-1?"".concat(b,"[").concat(c,"]"):"".concat(b,"=").concat(c):b+c},"")});return c.join("&")}function h(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function i(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,c=b.split("?",2);return a(2===c.length?c[1]:"")}function j(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return d(2===b.length?b[1]:"")}function k(a,b){if(b instanceof Object){var c=a.split("?",2)[0],d=i(a),f=h(d,b);a="".concat(c,"?").concat(e(f))}return a}function l(a,b){if(b instanceof Object){var d=a.split("?",2)[0],e=i(a),f=c(e,b);a="".concat(d,"?").concat(g(f))}return a}return{getParams:i,getParamsExtended:j,addParams:k,addParamsExtended:l,get:i,getExt:j,add:k,addExt:l}});