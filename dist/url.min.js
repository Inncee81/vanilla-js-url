(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.JcURL=b())})(this,function(){'use strict';function a(a){var b={};return a&&a.split("&").forEach(function(a){var c=a.split("=",2),d=c[0],e=c[1]||"";"[]"===d.substr(-2)?(d=d.substr(0,d.length-2),(void 0===b[d]||!Array.isArray(b[d]))&&(b[d]=[]),b[d].push(decodeURIComponent(e))):b[d]=decodeURIComponent(e)}),b}function b(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function c(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function d(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,c=b.split("?",2);return a(2===c.length?c[1]:"")}return{getParams:d,addParams:function(a,e){if(e instanceof Object){var f=a.split("?",2)[0],g=d(a),h=c(g,e);a="".concat(f,"?").concat(b(h))}return a}}});