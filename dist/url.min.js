(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.jcurl=b())})(this,function(){'use strict';function a(a){var b={};return a&&a.split("&").forEach(function(a){var c=a.split("=",2),d=c[0],e=c[1]||"";"[]"===d.substr(-2)?(d=d.substr(0,d.length-2),(void 0===b[d]||!Array.isArray(b[d]))&&(b[d]=[]),b[d].push(decodeURIComponent(e))):b[d]=decodeURIComponent(e)}),b}function b(a,c){var d={};return d[a[a.length-1]]=c,1===a.length?d:b(a.slice(0,a.length-1),d)}function c(a,b){var d=function(a){return a&&a instanceof Object};return d(a)&&d(b)?(Object.keys(b).forEach(function(e){var f=a[e],g=b[e];a[e]=Array.isArray(f)&&Array.isArray(g)?f.concat(g):d(f)&&d(g)?c(Object.assign({},f),g):g}),a):b}function d(a){var d={},e=0;return a&&a.split("&").forEach(function(a){var f=a.split("=",2),g=f[0],h=f[1]||"",i=g.match(/(.+?)(\[(.*)\])/);if(i){var j=i[3]||e++ +"",k=j.split("][");k.unshift(i[1]);var l=b(k,h);d=c(d,l)}}),d}function e(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function f(a){console.log(a)}function g(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function h(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,c=b.split("?",2);return a(2===c.length?c[1]:"")}function i(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return d(2===b.length?b[1]:"")}function j(a,b){if(b instanceof Object){var c=a.split("?",2)[0],d=h(a),f=g(d,b);a="".concat(c,"?").concat(e(f))}return a}function k(a,b){if(b instanceof Object){var d=a.split("?",2)[0],e=h(a),g=c(e,b);a="".concat(d,"?").concat(f(g))}return a}return{getParams:h,getParamsExtended:i,addParams:j,addParamsExtended:k,get:h,getExt:i,add:j,addExt:k}});