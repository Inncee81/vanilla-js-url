(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):(a=a||self,b(a.wurl={}))})(this,function(a){'use strict';function b(a){return decodeURIComponent("".concat(a).replace(/\+/g,"%20"))}function c(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],d={};return a&&a.split("&").forEach(function(a){c&&(a=b(a));var e=a.split("=",2),f=e[0],g=e[1]||"";if(f){var h=f.match(/(.+?)\[(\d*)\]/i);if(h){f=h[1];var i=h[2];void 0!==d[f]&&Array.isArray(d[f])||(d[f]=[]),""===i?d[f].push(g):d[f][i]=g}else d[f]=g}}),d}function d(a,b){var c={};return c[a[a.length-1]]=b,1===a.length?c:d(a.slice(0,a.length-1),c)}function e(a,b){var c=function(a){return a&&a instanceof Object};return c(a)&&c(b)?(Object.keys(b).forEach(function(d){var f=a[d],g=b[d];a[d]=Array.isArray(f)&&Array.isArray(g)?f.concat(g):c(f)&&c(g)?e(Object.assign({},f),g):g}),a):b}function f(a){var c=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],f={};return a&&a.split("&").forEach(function(a,g){c&&(a=b(a));var h=a.split("=",2),i=h[0],j=h[1]||"",k=i.match(/(.+?)(\[(.*)\])/i);if(k){var l=k[3]||g.toString(),m=l.split("][");m.unshift(k[1]);var n=d(m,b(j));f=e(f,n)}}),f}function g(a){function b(a){return c?encodeURIComponent(a):a}var c=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],d=[],e=function(c){if(a.hasOwnProperty(c)){var e=a[c];Array.isArray(e)&&e.length?e.forEach(function(a){d.push("".concat(b("".concat(c,"[]")),"=").concat(b(a)))}):d.push("".concat(b(c),"=").concat(b(e)))}};for(var f in a)e(f);return d.join("&")}function h(a,b,c){Object.keys(a).forEach(function(d){var e=b.concat([d]),f=a[d];f instanceof Object?h(f,e,c):(e.push(f),c.push(e))})}function i(a){function b(a){return c?encodeURIComponent(a):a}var c=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],d=[];h(a,[],d);var e=d.map(function(a){return a.reduce(function(c,d,e){return c?e<a.length-1?"".concat(c,"[").concat(d,"]"):"".concat(b(c),"=").concat(b(d)):c+d},"")});return e.join("&")}function j(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function k(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],d=a.split("?",2);return c(2===d.length?d[1]:"",b)}function l(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],c=a.split("?",2);return f(2===c.length?c[1]:"",b)}function m(a,b){var c=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];if(b instanceof Object){var d=a.split("?",2)[0],e=k(a),f=j(e,b);a="".concat(d,"?").concat(g(f,c))}return a}function n(a,b){var c=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];if(b instanceof Object){var d=a.split("?",2)[0],f=k(a),g=e(f,b);a="".concat(d,"?").concat(i(g,c))}return a}function o(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.href,b="/",c=a.replace(/^((?:https?:)?\/\/)/i,"").match(/\/(?![#?&\s])([^#?\s]+)/);return c&&(b+=c[1],"/"===b[b.length-1]&&(b=b.substr(0,b.length-1))),b}a.add=m,a.addExt=n,a.addParams=m,a.addParamsExtended=n,a.get=k,a.getExt=l,a.getParams=k,a.getParamsExtended=l,a.getPath=o,a.path=o,Object.defineProperty(a,"__esModule",{value:!0})});