(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.JcURL=b())})(this,function(){'use strict';function a(a){a=a||window.location.href;var b={},c=a.split("?",2),d=2===c.length?c[1].split("&"):[];return d.forEach(function(a){var c=a.split("=",2),d=c[0],e=c[1]||"";"[]"===d.substr(-2)?(d=d.substr(0,d.length-2),void 0===b[d]&&(b[d]=[]),b[d].push(decodeURIComponent(e))):b[d]=decodeURIComponent(e)}),b}return{getParams:a,addParams:function(b,c){if(c instanceof Object){var d=b.split("?",2)[0],e=a(b);for(var f in c)if(c.hasOwnProperty(f)){var g=c[f];if(Array.isArray(g)&&g.length){e[f]!==void 0&&Array.isArray(e[f])||(e[f]=[]);for(var h=0;h<g.length;h++)e[f].push(g[h])}else e[f]=c[f]}var k=[];for(var l in e){var m=e[l];if(Array.isArray(m)&&m.length)for(var n=0;n<m.length;n++)k.push("".concat(l,"[]=").concat(m[n]));else k.push("".concat(l,"=").concat(m))}b="".concat(d,"?").concat(k.join("&"))}return b}}});