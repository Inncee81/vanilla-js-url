(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.JcURL=b())})(this,function(){'use strict';function a(b,c){var d={};return d[b[b.length-1]]=c,1===b.length?d:a(b.slice(0,b.length-1),d)}function b(a,c){for(var d in console.log(1,a,c),c)c.hasOwnProperty(d)&&(c[d]instanceof Object?(a=a.hasOwnProperty(d)?a[d]:null,b(a,c[d])):(a=Object.assign(a,c),console.log("Finite value: ".concat(c[d]))));console.log(2,a,c)}function c(c){var d={};return c&&c.split("&").forEach(function(c){var e=c.split("=",2),f=e[0],g=e[1]||"",h=f.match(/.+?(\[(.*)\])/);if(h){var i=h[2]||"0",j=i.split("]["),k=a(j,g);b({foo:{too:{poo:"3"}}},{foo:{too:{hoo:"5"}}})}"[]"===f.substr(-2)?(f=f.substr(0,f.length-2),(void 0===d[f]||!Array.isArray(d[f]))&&(d[f]=[]),d[f].push(decodeURIComponent(g))):d[f]=decodeURIComponent(g)}),d}function d(a){var b=[],c=function(c){if(a.hasOwnProperty(c)){var d=a[c];Array.isArray(d)&&d.length?d.forEach(function(a){b.push("".concat(c,"[]=").concat(a))}):b.push("".concat(c,"=").concat(d))}};for(var d in a)c(d);return b.join("&")}function e(a,b){var c=function(c){if(b.hasOwnProperty(c)){var d=b[c];Array.isArray(d)&&d.length?((a[c]===void 0||!Array.isArray(a[c]))&&(a[c]=[]),d.forEach(function(b){a[c].push(b)})):a[c]=b[c]}};for(var d in b)c(d);return a}function f(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:window.location.href,b=a.split("?",2);return c(2===b.length?b[1]:"")}return{getParams:f,addParams:function(a,b){if(b instanceof Object){var c=a.split("?",2)[0],g=f(a),h=e(g,b);a="".concat(c,"?").concat(d(h))}return a}}});